To connect, `ssh bandit31@bandit.labs.overthewire.org -p 2220`.

On being prompted for a password, enter the password found from the previous level.

After a successful connection, we are presented with a shell.


We have to clone a git repository and look for the password in that.


Git is a version control tool. It was created by the creator of Linux.

It is very useful to know the basics of git.


Continuing onto the current challenge, lets start by creating a directory in the **/tmp** folder and change the current directory to the newly created folder.

```
bandit31@bandit:~$ mkdir /tmp/<folder_name>
bandit31@bandit:~$ cd /tmp/<folder_name>
bandit31@bandit:/tmp/<folder_name>$
```


Now we will clone the git repository using the git clone command.

On being prompted for a password, enter the current level's password.

```
bandit31@bandit:/tmp/<folder_name>$ git clone ssh://bandit31-git@localhost/home/bandit31-git/repo
Cloning into 'repo'...
Could not create directory '/home/bandit31/.ssh'.
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:<sha256_hash>.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit31/.ssh/known_hosts).
This is a OverTheWire game server. More information on http://www.overthewire.org/wargames

bandit31-git@localhost's password: 
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (4/4), done.
bandit31@bandit:/tmp/<folder_name>$ 
```

On successfully cloning the git repository, a folder will be created with the name repo.

We will change directory into that using cd.

```
bandit31@bandit:/tmp/<folder_name>$ ls
repo
bandit31@bandit:/tmp/<folder_name>$ cd repo
bandit31@bandit:/tmp/<folder_name>/repo$
```


On listing the files in the directory we will find a README file.

Lets print the contents of the README file.

```
bandit31@bandit:/tmp/<folder_name>/repo$ ls
README
bandit31@bandit:/tmp/<folder_name>/repo$ cat README
This time your task is to push a file to the remote repository.

Details:
    File name: key.txt
    Content: 'May I come in?'
    Branch: master
bandit31@bandit:/tmp/<folder_name>/repo$ 
```

To create a file with content, we can simply use echo.

```
bandit31@bandit:/tmp/<folder_name>/repo$ echo 'May I come in?' > key.txt
```


To commit a file, we need to first add it so that git understands that the file needs to be committed.

You will face an error saying that the file is ignored by a .gitignore file.

A gitignore file is used to not track changes to folders and files such as folders generated by IDEs or build folders or files containing senstive data (passwords, API keys, etc. ).


But for this challenge we need to bypass the .gitignore check and add the file.

To do so we will use -f switch which will force git to add the file and bypass the .gitignore check.

```
bandit31@bandit:/tmp/<folder_name>/repo$ git add key.txt 
The following paths are ignored by one of your .gitignore files:
key.txt
Use -f if you really want to add them.
bandit31@bandit:/tmp/<folder_name>/repo$ cat .gitignore
*.txt
bandit31@bandit:/tmp/<folder_name>/repo$ git add -f key.txt
```

Now add a commit message using git commit command.


```
bandit31@bandit:/tmp/<folder_name>/repo$ git commit -m "Add key.txt"
[master 0b5f95e] Add key.txt
 1 file changed, 1 insertion(+)
 create mode 100644 key.txt
```

This will make a commit. A commit can be thought of as a checkpoint in git.


Now to push the commit to the remote repository, we will use the git push command.


On being prompted for a password, enter the current level's password.


The push will fail but we will get the password for the next level.


```
bandit31@bandit:/tmp/<folder_name>/repo$ git push -u origin master
Could not create directory '/home/bandit31/.ssh'.
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ECDSA key fingerprint is SHA256:<sha256_hash>.
Are you sure you want to continue connecting (yes/no)? yes
Failed to add the host to the list of known hosts (/home/bandit31/.ssh/known_hosts).
This is a OverTheWire game server. More information on http://www.overthewire.org/wargames

bandit31-git@localhost's password: 
Counting objects: 3, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 324 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: ### Attempting to validate files... ####
remote: 
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.
remote: 
remote: Well done! Here is the password for the next level:
remote: <bandit32_password>
remote: 
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.
remote: 
To ssh://localhost/home/bandit31-git/repo
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'ssh://bandit31-git@localhost/home/bandit31-git/repo'
bandit31@bandit:/tmp/<folder_name>/repo$ 
```


We get the password for the next level.

Before exiting, make sure to remove the folder created.

```
bandit31@bandit:/tmp/<folder_name>/repo$ cd ~
bandit31@bandit:~$ rm -rf /tmp/<folder_name>
```

With this we find the password for the next level.